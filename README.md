# Smart-LED-lamp-Arduino

Описание:
---------------------
В коде реализована работа лампы, которая поворачивается при включении и имеет регулировку уровня света через приближение или отдаление ладони.

![image](https://github.com/Kirill-Kasparov/Smart-LED-lamp-Arduino/assets/131332065/87d68145-9096-4818-ab6f-692e27a64130)

Принцип работы:
---------------------
За основу взят корпус от сломанной люминисцентной лампы. Свет заменен на 5 светодиодов. Добавлен сервопривод для автоматического разворота, потенциометр для регулирования угла поворота, ультразвуковой датчик для управления включением лампы и силой свечения.
В плафон лампы установлен дальномер, который реагирует только в диапазоне от 0 до 20 см:

  0-3 см - светодиоды выключены, лампа разворачивается в стартовую позицию.
  
  4-20 см - лампа поворачивается в рабочую позицию, интенсивность свечения настраивается от дальности ладони, где 4 см - минимальная яркость, 20 см - максимальная яркость.

Чтобы настроить угол поворота лампы, добавлен потенциометр. Настройка осуществляется только один раз, или меняется при необходимости. Дальше лампа всегда будет выходить на заданную позицию.

Потребуется:
---------------------
1. Каркас лампы
2. Подшипник
3. Контролер Arduino Nano
4. Сервопривод SG90
5. Ультразвуковой датчик HC-SR04
6. Потенциометр (можно без него, указав градус поворота в Скетче)
7. Провода: красный - 150, черный - 150, цветной до сервопривода - 100, обрезки от 5 до 10 см ~ 10 шт
8. Резисторы - 5 шт. 220 Ом
9. Светодиод 3мм - 5 шт.

Реализация:
---------------------
1. Разметка проводов.

Из лампы убераем все "лишнее". В своем варианте я укоротил плафон светильника, вырезал дополнительные отверстия под провода, ультразвуковой датчик и потенциометр.
Заготавливаем провода для пайки. Так как Arduino Nano хорошо помещается в боксе, где был патрон от люминисцентной лампы, оптимальное расположение проводов:
![image](https://github.com/Kirill-Kasparov/Smart-LED-lamp-Arduino/assets/131332065/eecf114a-ac4b-44aa-a295-c024c7a7969f)

2. Пайка плафона.

Рекомендую потратить время и крепко закрепить Arduino Nano на своем месте. Убедитесь, что Вам будет удобно подключать usb-кабель для кодирования. Я этого не сделал и для загрузки обновления приходилось каждый раз разбирать плафон.
Пайку осуществляем по семе ниже. В плафон пойдет всё, кроме сервопривода. 

LifeHack: гибкие провода можно взять из интернет-кабеля, там их 8 штук, да и стоит такой провод дешевле.

По итогу у нас должен быть готовый плафон и от него выходит 3 длинных провода (плюс, общий минус, pin для серво).
![image](https://github.com/Kirill-Kasparov/Smart-LED-lamp-Arduino/assets/131332065/f71b8976-3f9b-4d10-881b-5d3098f00f66)

У меня получилось так:
(В этом варианте светодиоды спаяны в одну цепь, так мы теряем мощность)
![Пайка плафона](https://github.com/Kirill-Kasparov/Smart-LED-lamp-Arduino/assets/131332065/a542f09e-a331-411a-b224-d52d75de796a)
(Светодиоды перепаяны)
![photo_2024-02-08_22-14-47](https://github.com/Kirill-Kasparov/Smart-LED-lamp-Arduino/assets/131332065/af595e9b-8a7c-4225-a17c-9e5301e01290)

Теперь 3 длинных провода (плюс, общий минус, pin для серво) можно пропустить по корпусу. На сгибах оставляйте запас по 3 см кабеля, тогда лампу можно будет сгибать без риска обрыва проводов.

3. Установка сервопривода.

В разложенном виде лампа создает Очень большую нагрузку на основание, поэтому прямое подключение маломощного сервопривода SG90 невозможно. Чтобы перенести нагрузку с сервопривода, я использую подшипник.

LifeHack: сразу 8 отличных подшипников можно взять от со старых роликовых коньков. Нам потребуется только 1.

Собираем такую конструкцию:
![Основание на подшипнике](https://github.com/Kirill-Kasparov/Smart-LED-lamp-Arduino/assets/131332065/2fed3e7b-79e1-41bc-a430-16e4b64e11e2)

LifeHack: металлическая скоба сделана из уголка под штукатурку - это очень дешевый и довольно крепкий материал. Искать как "Угол алюминиевый перфорированный 20x20"


